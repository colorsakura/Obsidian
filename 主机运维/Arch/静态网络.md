#### 方法二：在 Arch Linux 中使用 systemd 配置静态 IP 地址

**system**d 是 Linux 操作系统的系统和服务管理器。 现在让我们看看怎样使用 systemd 配置静态 IP 地址。

创建如下所示的网络配置文件。

`sudo nano /etc/systemd/network/enp0s3.network`

将 enp0s3 替换为您的网卡名称。 并且，添加以下行。

```
[Match]
Name=enp0s3

[Network]
Address=192.168.1.102/24
Gateway=192.168.1.1
DNS=8.8.8.8
DNS=8.8.4.4
```

Save 和 close 文件。

接下来，您需要禁用 netctl。 要找出与 netctl 相关的启用内容，请运行以下命令：

`sudo systemctl list-unit-files`

一旦你确定了所有与 netctl 相关的东西，就禁用它们。 我在我的系统中启用了以下服务，所以我禁用了它，如下所示。

`sudo systemctl disable [email protected]`

并且，使用以下命令从 Arch Linux 中删除 netctl 包：

`sudo pacman -Rns netctl`

另外，不要忘记停止和禁用 dhcp 服务。

`sudo systemctl stop dhcpcd`

`sudo systemctl disable dhcpcd`

然后，启用并启动 systemd-networkd 服务，如下所示：

`sudo systemctl enable systemd-networkd`

`sudo systemctl start systemd-networkd`

重新启动系统。 并且，使用命令检查是否正确分配了 IP 地址：

`ip addr`